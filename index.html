<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LIMPIEZA-360PRO-APP - Gesti칩n de Propiedades</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Firebase v8.x scripts (web cl치sica, sin m칩dulos) -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
</head>
<body>
    <!-- LOGIN PROFESIONAL CON LOGO Y FIREBASE AUTH (visible por defecto) -->
    <div id="loginView" class="view login-gradient-center" style="display:block;">
        <div class="login-container-pro">
            <img src="logo-new.png?v=1" alt="LIMPIEZA-360PRO-APP" class="login-logo">
            <h1 class="login-title">LIMPIEZA-360PRO-APP</h1>
            <p class="login-subtitle">Bienvenido a la plataforma profesional de gesti칩n y limpieza.<br>Acceso seguro para propietarios, managers y empleados.</p>
            <form id="firebaseLoginForm" autocomplete="on" class="login-form-pro">
                <div class="form-group-pro">
                    <label for="loginEmail"><span class="icon">游닎</span>Email</label>
                    <input type="email" id="loginEmail" placeholder="Tu correo electr칩nico" required autocomplete="username">
                </div>
                <div class="form-group-pro">
                    <label for="loginPassword"><span class="icon">游</span>Contrase침a</label>
                    <input type="password" id="loginPassword" placeholder="Tu contrase침a" required autocomplete="current-password">
                </div>
                <button type="submit" class="btn-primary-pro">Ingresar</button>
            </form>
            <div id="loginError" class="loginError-pro"></div>
            <div class="login-footer-pro">
                쯆lvidaste tu contrase침a? <span class="text-accent">Contacta al administrador.</span>
            </div>
        </div>
    </div>

    <!-- MEN칔 HAMBURGUESA Y DASHBOARD (ocultos por defecto, visibles tras login) -->
    <nav id="mainNav" class="main-nav sidebar" style="display:none;">
        <ul class="nav-links" id="navLinks">
            <li><a href="#" id="navDashboard">Dashboard</a></li>
            <li><a href="#" id="navTasks">Tareas</a></li>
            <li><a href="#" id="navInventory">Inventario</a></li>
            <li><a href="#" id="navReports">Reportes</a></li>
            <li><a href="#" id="navUsers">Usuarios</a></li>
            <li><a href="#" id="navSettings">Configuraci칩n</a></li>
            <li><a href="#" id="navLogout">Cerrar sesi칩n</a></li>
        </ul>
    </nav>
    <main id="mainContent" class="main-content" style="display:none;">
        <section id="ownerView" class="view" style="display:none;"></section>
        <section id="managerView" class="view" style="display:none;"></section>
        <section id="employeeView" class="view" style="display:none;"></section>
    </main>
                    <form id="addPropertyForm" class="owner-form card-form">
                        <input type="text" id="propertyName" placeholder="Nombre de la propiedad" required />
                        <input type="text" id="propertyAddress" placeholder="Direcci칩n" required />
                        <button type="submit" class="btn-primary">Agregar propiedad</button>
                    </form>
                    <div id="propertiesList" class="owner-list card-list">
                        <!-- Aqu칤 se listar치n las propiedades -->
                    </div>
                  </div>

                  <!-- Tarjeta de Usuarios -->
                  <div class="dashboard-card">
                    <h3 class="card-title">游논 Usuarios</h3>
                    <form id="addUserForm" class="owner-form card-form">
                        <input type="text" id="userName" placeholder="Nombre completo" required />
                        <input type="email" id="userEmail" placeholder="Correo electr칩nico" required />
                        <select id="userRole" required>
                            <option value="">Selecciona rol</option>
                            <option value="manager">Manager</option>
                            <option value="employee">Empleado</option>
                        </select>
                        <select id="userProperty" required>
                            <option value="">Asignar a propiedad</option>
                            <!-- Opciones din치micas -->
                        </select>
                        <button type="submit" class="btn-primary">Agregar usuario</button>
                    </form>
                    <div id="usersList" class="owner-list card-list">
                        <!-- Aqu칤 se listar치n los usuarios -->
                    </div>
                  </div>

                  <!-- Tarjeta de Tareas -->
                  <div class="dashboard-card">
                    <h3 class="card-title">游닇 Tareas</h3>
                    <form id="addTaskForm" class="owner-form card-form">
                        <input type="text" id="taskTitle" placeholder="T칤tulo de la tarea" required />
                        <select id="taskProperty" required>
                            <option value="">Asignar a propiedad</option>
                            <!-- Opciones din치micas -->
                        </select>
                        <button type="submit" class="btn-primary">Agregar tarea</button>
                    </form>
                    <div id="tasksList" class="owner-list card-list">
                        <!-- Aqu칤 se listar치n las tareas -->
                    </div>
                  </div>
                </div>
            </section>
            <section id="managerView" class="view" style="display:none;">
                                                                <div id="reportsListManager" class="owner-list">
                                                                    <!-- Aqu칤 se listar치n los reportes del manager -->
                                                                </div>
                                                <!-- Formulario para agregar reporte (manager) -->
                                                <form id="addReportFormManager" class="owner-form">
                                                    <h3>Agregar reporte</h3>
                                                    <input type="text" id="reportTitleManager" placeholder="T칤tulo del reporte" required />
                                                    <select id="reportTypeManager" required>
                                                        <option value="">Tipo de reporte</option>
                                                        <option value="inventario">Inventario</option>
                                                        <option value="tarea">Tarea</option>
                                                        <option value="otro">Otro</option>
                                                    </select>
                                                    <textarea id="reportDescManager" placeholder="Descripci칩n" rows="2" class="resize-vertical"></textarea>
                                                    <button type="submit">Agregar reporte</button>
                                                </form>
                                <!-- Formulario para agregar inventario (manager) -->
                                <form id="addInventoryFormManager" class="owner-form">
                                    <h3>Agregar art칤culo de inventario</h3>
                                    <input type="text" id="inventoryNameManager" placeholder="Nombre del art칤culo" required />
                                    <input type="number" id="inventoryQtyManager" placeholder="Cantidad" min="1" required />
                                    <button type="submit">Agregar art칤culo</button>
                                </form>
                                <div id="inventoryListManager" class="owner-list">
                                    <!-- Aqu칤 se listar치 el inventario del manager -->
                                </div>
                <h2>Panel de Manager</h2>
                <div class="dashboard-placeholder">Bienvenido, manager. Aqu칤 ver치s tareas, inventario y reportes.</div>
            </section>
            <section id="employeeView" class="view" style="display:none;">
                                <!-- Formulario para agregar reporte (empleado) -->
                                <form id="addReportFormEmployee" class="owner-form">
                                    <h3>Agregar reporte</h3>
                                    <input type="text" id="reportTitleEmployee" placeholder="T칤tulo del reporte" required />
                                    <select id="reportTypeEmployee" required>
                                        <option value="">Tipo de reporte</option>
                                        <option value="inventario">Inventario</option>
                                        <option value="tarea">Tarea</option>
                                        <option value="otro">Otro</option>
                                    </select>
                                    <textarea id="reportDescEmployee" placeholder="Descripci칩n" rows="2" class="resize-vertical"></textarea>
                                    <button type="submit">Agregar reporte</button>
                                </form>
                                <div id="reportsListEmployee" class="owner-list">
                                    <!-- Aqu칤 se listar치n los reportes del empleado -->
                                </div>
                <h2>Panel de Empleado</h2>
                <div class="dashboard-placeholder">Bienvenido, empleado. Aqu칤 ver치s tus tareas asignadas y tu historial.</div>
            </section>
        </main>



    <script src="firebase-init.js"></script>
    <script src="app.js"></script>
    <script>
        // Mostrar el login directamente al cargar la p치gina
        window.addEventListener('DOMContentLoaded', function() {
            const loginView = document.getElementById('loginView');
            if (loginView) {
                loginView.style.display = 'block';
            }
            if (typeof updateLoginForm === 'function') updateLoginForm();
        });
    </script>
</body>
</html>
